/* Name: main.c
 * Author: <insert your name here>
 * Copyright: <insert your copyright message here>
 * License: <insert your license reference here>
 */

#include "common_peripherals.h"
#include "TWI_slave.h"
#include "drive_coil.h"
#include "wiper_encoder_cali.h"
#include "USART.h"
#include "ADC.h"

//#define BOTTOM_FACE

#define MAGNETS_ON            0xA2  // command to turn on the blue led
#define MAGNETS_OFF           0xA3  // command to turn on green led
#define FACE_PING             0xA5  // Ping request to tell if face is alive
#define SEND_STATES           0xA4
#define SEND_ADC_DATA         0xA6

#define CALI_ON               0xA7
#define CALI_OFF              0xA8

/*   face i2c address macros:  */
#define BOTTOM_FACE_I2C_ADDRESS 0x0B
#define LEFT_FACE_I2C_ADDRESS   0x0A
#define RIGHT_FACE_I2C_ADDRESS  0x0C
#define TOP_FACE_I2C_ADDRESS    0x0D

unsigned char My_Address;

unsigned char messageBuf[TWI_BUFFER_SIZE];

int adc0 = 0;
int adc1 = 0;

void cali_on_mode(void) {
	adc0 = return_adc0();
	adc1 = return_adc1();
}

void cali_off_mode(void) {
}

